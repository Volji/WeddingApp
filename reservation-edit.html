<!DOCTYPE html>
<html ng-app="app">
<head>
<!-- AngularJS -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
<!-- Firebase -->
<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
<!-- AngularFire -->
<script src="https://cdn.firebase.com/libs/angularfire/1.2.0/angularfire.min.js"></script>
<script src="js/app.js"></script>
<style>
	.editer {
		cursor: pointer;
	}
</style>
</head>

<body ng-controller="MainCtrl">

<h1 style="text-align: center">RÃ©servations</h1>
<div style="width: 40%; float: left;">
<h2>Ajouter</h2>
	<form ng-submit="addReservation(newReservation)">
		<input type="text" ng-model="newReservation.nom" placeholder="Votre nom">
		<input type="text" ng-model="newReservation.email" placeholder="Votre email">
		<p></p>
		<input type="text" ng-model="newReservation.adulte" placeholder="nbr adulte">
		<input type="text" ng-model="newReservation.enfant" placeholder="nbr enfant">
		<p></p>
		<textarea ng-model="newReservation.commentaire" placeholder="Votre message" rows="5"></textarea>
		<p></p>
		<input type="submit" id="submit" value="Confirmer">
	</form>
</div>

<div  style="width: 40%; float: right; height: 500px; overflow: scroll">
<h2>Liste</h2>
<p>Cliquez sur le nom pour modifier/supprimer</p>
<div ng-repeat="r in reservation">
	<hr>
	<h3 class="editer" ng-click="editReservation(r)">{{r.nom}}</h3>
	<h4>{{r.email}}</h4>
	<h5 ng-show="!editMode || r.$id !== oldReserv.$id">Adulte: {{r.adulte}}</h5>
	<h5 ng-show="!editMode || r.$id !== oldReserv.$id">Enfant: {{r.enfant}}</h5>
	<!-- champs text -->
	<label ng-show="editMode && r.$id === oldReserv.$id">Adulte</label>
	<input type="text" ng-model="oldReserv.adulte" ng-show="editMode && r.$id === oldReserv.$id"><br>
	<label ng-show="editMode && r.$id === oldReserv.$id">Enfant</label>
	<input type="text" ng-model="oldReserv.enfant" ng-show="editMode && r.$id === oldReserv.$id"><br>
	<button ng-click="updateReservation(oldReserv)" ng-show="editMode && r.$id === oldReserv.$id">Modifier</button>
	<button ng-click="cancelEdit()" ng-show="editMode && r.$id === oldReserv.$id">Annuler</button>
	<button ng-click="supprimer(r.$id)" ng-show="editMode && r.$id === oldReserv.$id">Supprimer</button>
	<!-- end champs text -->
	<p>commentaire: {{r.commentaire}}</p>

</div>
</div>
</body>
</html>
